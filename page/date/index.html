<!doctype html>
<html lang="hy">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>People Analytics Dashboard</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root{
            --bg1:#f7f7ff;
            --bg2:#eef2ff;
            --card:rgba(255,255,255,.9);
            --ink:#0f172a;
            --muted:#64748b;
            --accent:#6366f1;
            --accent2:#22c55e;
            --danger:#ef4444;
            --shadow: 0 18px 45px rgba(2,6,23,.10);
            --shadow2: 0 10px 30px rgba(2,6,23,.08);
            --radius: 18px;
        }

        body{
            min-height: 100vh;
            background: radial-gradient(1200px 600px at 10% 10%, var(--bg2), transparent 60%),
            radial-gradient(900px 500px at 90% 10%, #fde7f3, transparent 55%),
            linear-gradient(180deg, var(--bg1), #ffffff 65%);
            color: var(--ink);
        }

        .glass{
            background: var(--card);
            border: 1px solid rgba(15,23,42,.08);
            box-shadow: var(--shadow);
            border-radius: var(--radius);
            backdrop-filter: blur(10px);
        }

        .soft{
            box-shadow: var(--shadow2);
            border-radius: 16px;
            border: 1px solid rgba(15,23,42,.06);
            background: rgba(255,255,255,.95);
        }

        .brand-badge{
            display:inline-flex;
            align-items:center;
            gap:.5rem;
            padding:.45rem .75rem;
            border-radius: 999px;
            background: rgba(99,102,241,.12);
            color: #4338ca;
            font-weight: 600;
        }

        .kpi{
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap: 12px;
            padding: 14px 16px;
        }
        .kpi .label{ color: var(--muted); font-size: .9rem; }
        .kpi .value{ font-size: 1.35rem; font-weight: 800; letter-spacing: -.02em; }
        .dot{
            width: 10px; height: 10px; border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 0 6px rgba(99,102,241,.12);
        }
        .dot.green{ background: var(--accent2); box-shadow: 0 0 0 6px rgba(34,197,94,.12); }
        .dot.red{ background: var(--danger); box-shadow: 0 0 0 6px rgba(239,68,68,.12); }

        .table thead th{
            color:#334155;
            font-weight:700;
            border-bottom: 1px solid rgba(15,23,42,.08);
        }
        .table td{
            vertical-align: middle;
            color:#0f172a;
            border-top: 1px solid rgba(15,23,42,.06);
        }
        .pill{
            padding: .25rem .6rem;
            border-radius: 999px;
            font-size: .82rem;
            font-weight: 700;
            border: 1px solid rgba(15,23,42,.08);
            background: rgba(2,6,23,.02);
            color:#334155;
            display:inline-flex;
            align-items:center;
            gap:.35rem;
        }
        .pill.alive{ background: rgba(34,197,94,.10); color:#166534; border-color: rgba(34,197,94,.25); }
        .pill.dead{ background: rgba(239,68,68,.10); color:#991b1b; border-color: rgba(239,68,68,.25); }

        .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        .small-muted{ color: var(--muted); font-size: .9rem; }
        .section-title{ font-weight: 900; letter-spacing: -.02em; }
        .btn-accent{
            background: var(--accent);
            border-color: var(--accent);
            font-weight: 700;
        }
        .btn-accent:hover{ filter: brightness(.95); }
        .form-control, .form-select{
            border-radius: 14px;
            border: 1px solid rgba(15,23,42,.10);
        }

        .sticky-tools{
            position: sticky;
            top: 14px;
        }
    </style>

</head>

<body>
<div class="container py-4">
    <!-- Header -->
    <div class="glass p-4 mb-4">
        <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between gap-3">
            <div>
                <div class="brand-badge mb-2">
                    <span class="dot"></span>
                    People Analytics
                </div>
                <h1 class="h3 section-title mb-1">Անձանց տվյալների վերլուծության վահանակ</h1>
                <div class="small-muted">
                    Տվյալների հիման վրա հաշվարկում ենք միջին տարիքը, խմբավորումներ, սորտավորում, ծննդյան օրերի հաշվարկներ և այլն։
                </div>
            </div>
            <div class="text-md-end">
                <div class="small-muted">Այսօրվա օր</div>
                <div class="fw-bold" id="todayText">21.12.2025</div>
            </div>
        </div>

        <!-- KPIs -->
        <div class="row g-3 mt-3">
            <div class="col-12 col-md-3">
                <div class="soft kpi">
                    <div>
                        <div class="label">Մարդկանց քանակ</div>
                        <div class="value" id="kpiTotal">40</div>
                    </div>
                    <span class="dot"></span>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div class="soft kpi">
                    <div>
                        <div class="label">Մահացածների թիվ</div>
                        <div class="value" id="kpiDead">15</div>
                    </div>
                    <span class="dot red"></span>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div class="soft kpi">
                    <div>
                        <div class="label">Կենդանիքների թիվ</div>
                        <div class="value" id="kpiAlive">25</div>
                    </div>
                    <span class="dot green"></span>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div class="soft kpi">
                    <div>
                        <div class="label">Միջին ապրած տարիներ</div>
                        <div class="value" id="kpiAvgYears">33.3</div>
                    </div>
                    <span class="dot"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <!-- Tools -->
        <div class="col-12 col-lg-4">
            <div class="glass p-3 sticky-tools">
                <h2 class="h5 section-title mb-3">Գործիքներ</h2>

                <div class="mb-3">
                    <label class="form-label small-muted">Որոնում անունով</label>
                    <input id="searchInput" class="form-control" placeholder="օր․ Jack, Liam...">
                </div>

                <div class="row g-2 mb-3">
                    <div class="col-6">
                        <label class="form-label small-muted">Ամիս (ծնվածները)</label>
                        <select id="monthSelect" class="form-select">
                            <option value="">Բոլորը</option>
                            <option value="1">Հունվար</option>
                            <option value="2">Փետրվար</option>
                            <option value="3">Մարտ</option>
                            <option value="4">Ապրիլ</option>
                            <option value="5">Մայիս</option>
                            <option value="6">Հունիս</option>
                            <option value="7">Հուլիս</option>
                            <option value="8">Օգոստոս</option>
                            <option value="9">Սեպտեմբեր</option>
                            <option value="10">Հոկտեմբեր</option>
                            <option value="11">Նոյեմբեր</option>
                            <option value="12">Դեկտեմբեր</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <label class="form-label small-muted">Սորտավորում</label>
                        <select id="sortSelect" class="form-select">
                            <option value="" selected disabled>Choose</option>
                            <option value="age_desc">Տարիքով՝ մեծից փոքր</option>
                            <option value="age_asc">Տարիքով՝ փոքրից մեծ</option>
                            <option value="name_asc">Անուն՝ A → Z</option>
                            <option value="nextbday_asc">Մոտակա ծնունդ՝ շուտից</option>
                            <option value="died_recent">Մահը՝ վերջերսից (եթե կա)</option>
                        </select>
                    </div>
                </div>

                <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" role="switch" id="onlyDeadSwitch">
                    <label class="form-check-label" for="onlyDeadSwitch">Ցույց տալ միայն մահացածներին</label>
                </div>

                <div class="d-grid gap-2">
                    <button id="btnRecalc" class="btn btn-accent">
                        Վերահաշվել / Թարմացնել
                    </button>
                    <button id="btnReset" class="btn btn-outline-secondary">
                        Reset ֆիլտրերը
                    </button>
                </div>

                <hr class="my-4">

                <div class="small-muted mb-2">Արագ արդյունքներ</div>
                <div class="soft p-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div class="fw-bold">Ամենաերիտասարդ</div>
                        <div id="youngestText" class="mono small-muted">Harper (17)</div>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="fw-bold">Ամենատարեց</div>
                        <div id="oldestText" class="mono small-muted">Robin (61)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Table + Insights -->
        <div class="col-12 col-lg-8">
            <div class="glass p-3">
                <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between gap-2 mb-3">
                    <div>
                        <h2 class="h5 section-title mb-1">Աղյուսակ (մարդիկ)</h2>
                        <div class="small-muted">Տարիք, ապրած տարիներ, ծնունդի մոտիկ օրեր, մահվանից անցած օրեր…</div>
                    </div>
                    <div class="small-muted">
                        Ցուցադրված՝ <span class="fw-bold" id="shownCount">40</span>
                    </div>
                </div>

                <div class="table-responsive">
                    <table class="table align-middle mb-0">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Անուն</th>
                            <th>Ծնունդ</th>
                            <th>Կարգավիճակ</th>
                            <th class="text-end">Տարիք</th>
                            <th class="text-end">Ապրած տարիներ</th>
                            <th class="text-end">Մինչև հաջորդ ծնունդ (օր)</th>
                            <th class="text-end">Մահվանից անցած օրեր</th>
                        </tr>
                        </thead>
                        <tbody id="tbody">
<!--                        <tr>-->
<!--                            <td class="mono text-muted">1</td>-->
<!--                            <td class="fw-bold">Robin</td>-->
<!--                            <td class="mono">04.02.1963</td>-->
<!--                            <td><span class="pill dead">● Մահացած</span></td>-->
<!--                            <td class="text-end mono">61</td>-->
<!--                            <td class="text-end mono">61.6</td>-->
<!--                            <td class="text-end mono">45</td>-->
<!--                            <td class="text-end mono">476</td>-->
<!--                        </tr>-->


                        </tbody>
                    </table>
                </div>
            </div>

            <div class="row g-4 mt-1">
                <div class="col-12">
                    <div class="glass p-3">
                        <h2 class="h5 section-title mb-2">Խմբավորում ըստ ծննդյան տասնամյակների</h2>
                        <div class="small-muted mb-3">Օր․ 1980s, 1990s ... (քանակներ)</div>
                        <div id="decadeGroups" class="d-flex flex-wrap gap-2">

                        </div>
                    </div>
                </div>

                <div class="col-12">
                    <div class="glass p-3">
                        <h2 class="h5 section-title mb-2">Վերլուծություն</h2>
                        <ul class="small-muted mb-0">
                            <li><span class="fw-bold">Միջին ապրած տարիներ</span> հաշվվում է՝ (մահացածների համար՝ death - birth, կենդանի համար՝ today - birth)</li>
                            <li><span class="fw-bold">Time difference (ծնունդ ↔ մահ)</span> ցուցադրվում է “Ապրած տարիներ” դաշտում (մահացածների համար՝ exact մինչև մահ)</li>
                            <li><span class="fw-bold">Ծնված տվյալ ամսում</span> ֆիլտրով կարող ես արագ գտնել</li>
                            <li><span class="fw-bold">Days since death</span> միայն մահացածների համար է հաշվվում</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>





<script src="script.js"></script>
</body>
</html>
